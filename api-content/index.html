{"posts":[{"title":"中考复习笔记","content":"写在前面 开贴日期：2021.5.15 Day -32 由于政策改变（提前招学生还得中考），加上whk有很多漏洞，最后一个月还是需要对于中考做一个补漏。 不同于其他同学按日期来更博客，这里 Push_Y 选择按学科来记录。 社会 有关农业的几次事件 土地革命（国共十年对峙时期） 土地政策（抗日战争时期 1941） 内容：实行地主减租减息，农民交租交息的土地政策。 意义：减轻了地主的封建剥削，改善了农民的物质生活，提高了农民抗日和生产的积极性，有利于联合地主一致抗日。 土地改革（解放战争时期 1947） 中国共产党召开全国土地会议，决定在解放区进行土地改革，制定了《中国土地法大纲》。 意义： 土改的完成，彻底废除了中国延续两千多年的封建土地所有制，消灭了地主阶级。 农民翻了身，成为土地的主人。 这使得人民政权更加巩固，也大大解放了农村的生产力。农村生产获得迅速发展，为国家的工业化建设准备了条件，也支持了抗美援朝。 三大改造中的农业改造——农业生产合作社（巩固新生政权） 国家对农业进行社会主义改造，引导农民参加农业生产合作社，走集体化、共同富裕的道路。 扯： 三大改造（中国社会主义改造）：农业、手工业、资本主义工商业 实现了生产资料私有制向社会主义公有制的转变 农业合作化运动，推动了手工业的社会主义改造 一些名词：农业合作化运动、公私合营、赎买赎买 家庭联产承包责任制 开始： 时间：1978年 示例：小岗村 扯： 改革开放： 改革：小岗村 开放：沿海地区 开放的推进：经济特区-&gt;沿海开放城市-&gt;沿海经济开放区-&gt;内地 形成全方位、多层次、宽领域的对外开放格局 意义：激发了农民的劳动热情，带来了农村生产力的大解放，农业生产和农民收入均有很大提高。 中国古代史 朝代 秦：中国历史上第一个统一的多民族的封建国家 统一货币，统一度、量、衡：巩固秦朝统一 统一文字：利于文化交流，统一的文字成为维系中华文明的重要纽带 焚书坑儒：加强了思想控制，对文化造成了重大损失 汉 推恩令 措施：允许诸侯王将自己的封地分给其他子弟 影响：削弱了诸侯王的势力 刺史制度（监督州部）、司隶校尉（监督朝廷、都城） 加强中央对官员的监督 统一造货币、经营盐铁：增加中央收入 儒学：兴办太学，儒学居于正统地位 西域都护府：西域正式归属中央 北魏 孝文帝改革~~（败家）~~ 迁都洛阳：接受中原地区先进文化 改革鲜卑旧俗，统一用汉语，规定穿戴汉族服饰，改鲜卑族姓氏为汉族姓氏，学习汉族礼法 适应了社会经济的发展，大大加快了北方民族交融的步伐 隋唐 贞观之治 制度 沿袭完善三省六部制：加强了中央集权 完善科举制度 宋 崇文抑武，解除统军大将的兵权 加强了中央集权，但削弱了军队战斗力 元 宣政院：负责藏族地区的行政 澎湖巡检司：历史上中央政府首次在台湾地区正式建立的行政机构 经济重心南移 南宋时完成了经济重心南移 四大发明 造纸术：东汉蔡伦改进 印刷术：隋唐雕版印刷术，北宋毕昇发明活字印刷术 指南针：北宋开始使用，后由阿拉伯人传入欧洲 火药：唐朝开始用于军事，宋元时期被广泛用于战争，后传入阿拉伯地区和欧洲，推动欧洲社会变革 医学、农学 东汉张仲景《伤寒杂病论》 东汉华佗 全身麻醉药剂 明朝李时珍《本草纲目》 北朝贾思勰《齐民要术》 明朝徐光启《农政全书》 对外交流 汉朝 开辟丝绸之路 唐朝 玄奘到达天竺带回佛经，鉴真六次东渡日本 元朝 《马可·波罗行纪》 明朝 郑和下西洋 中国近代史 四次大规模侵华战争 鸦片战争（1840~1842） 香港岛 《南京条约》 开始从封建社会变为半殖民地半封建社会（下文记作Ban） 第二次鸦片战争（1856~1860） 攻陷北京 圆明园 《天津条约》《北京条约》 Ban进一步加深 中日甲午战争（1894~1895） 黄海海战 《马关条约》大大加深了Ban 八国联军侵华战争（1900~1901） 北国联军攻占北京 《辛丑条约》完全沦为Ban 条约 《南京条约》（第一个不平等条约）：英国 香港岛、五处通商口岸 《天津条约》：俄美英法 10处通商口岸 《北京条约》：英法 九龙司 《马关条约》：日本 台湾全岛等岛 通商口岸设立工厂 《辛丑条约》：英美俄日法德意奥比荷西 洋务运动 二鸦后 代表：曾国藩、李鸿章…… 过程：引进西方先进技术，派遣留学生 影响：由于是维护和巩固清政府，没有使中国富强 戊戌变法 代表：康有为、梁启超 过程：公车上书拉开了序幕 影响：虽然失败了，在思想文化方面产生了广泛而持久的影响 中国同盟会 1905 日本东京 孙中山 性质：第一个全国规模的、统一的资产阶级革命政党 指导思想：三民主义（民族、民权、民生） 革命纲领：驱除鞑虏、恢复中华、创立民国、平均地权 辛亥革命 武昌首义（标志） 四川保路运动（导火线） 1911.10.9晚 1911.10.11 起义军成立湖北军政府 代表：孙中山、徐锡麟、秋瑾、黄兴 性质：资产阶级革命 意义：推翻了清朝的反动统治，宣告了延续两千多年的君主专制制度的结束。它开启了完全意义上的近代民族民主革命，极大地推动了中华民族的思想解放，打开了中国进步潮流的闸门。 不足处 没有改变中国社会性质，仍是Ban 军阀割据混战，政局动荡不安，人民生活困苦不堪 没有彻底解放人们的思想 中华民国成立 1912.1.1 南京 《中华民国临时约法》 清帝（溥仪）退位：1912.2.12 袁世凯1915复辟帝制但很快取消 新文化运动 背景：新生的中华民国很快陷入了政治混乱的局面。一部分先进知识分子认识到，仅进行政治制度的革新不足以救中国，必须启发过敏新的伦理道德意识，培养国民的独立人格，彻底荡涤封建旧文化的毒害，进行一场思想文化领域的革新运动。 标志：陈独秀在上海创办《青年杂志》（后改名《新青年》） 旗帜：“民主”、“科学” 内容：四个提倡、反对 提倡民主科学，反对专制和迷信盲从（核心） 提倡新文学，反对旧文学（文化革命） 提倡个性解放，反对封建礼教 提倡新道德，反对旧道德（思想革命） 代表 陈独秀：《新青年》 李大钊 胡适：文学革命，用白话文代替文言文 鲁迅：《狂人日记》 蔡元培（北大校长）：思想自由，兼容并包 性质：是一次伟大的思想启蒙运动 意义： 思想文化领域发生的这场运动让军阀混战中的中国响起了思想启蒙的运动 使人们的思想，特别是青年学生的思想获得极大解放，从而更加广泛而深刻的影响了整个社会 五四运动 导火线：巴黎和会上中国外交遭受挫折 时间：1919.5.4~ 中心、运动主力 第一阶段：北京 青年学生 第二阶段：上海 工人阶级 口号：“还我青岛”…… 初步胜利的表现： 北洋政府被迫释放被捕学生 北洋政府罢免曹汝霖、章宗祥、陆宗舆的职务 中国外交做出了拒绝在《凡尔赛条约》上签字的决定 意义： 是一次彻底地反对帝国主义和封建主义的爱国革命运动（性质） 是中国新民主主义革命的开端 中国的工人阶级开始以独立的姿态登上政治舞台 马克思主义在中国得到广泛传播 人们的思想获得极大解放，开始用新的眼光看中国、看世界 中国共产党成立： 三大条件 阶级基础：工人阶级的壮大，工人运动的发展 思想基础：马克思主义的广泛传播 组织基础：共产主义早期小组的建立 中共一大： 1921.7.23 上海-&gt;嘉兴南湖游船 内容：通过了中共历史上第一个党纲，确定了党的名称为中国共产党，党的奋斗目标是推翻资产阶级政权，建立无产阶级专政，实现共产主义。 意义：标志着中国共产党的诞生 第一次国共合作： 标志：国民党“一大”的召开 政治基础：新三民主义 成果：黄埔军校、国民革命军、北伐 破裂：蒋介石等人发动“四一二反革命政变” 北伐战争 1926~1928 目的：打倒列强，推翻北洋军阀统治，统一全国 过程：贺胜桥、叶挺独立团、张学良改易旗帜 南昌起义 意义：打响了武装反抗国民党反动派的第一枪，是中共创建军队、独立领导武装斗争的开始 八七会议（汉口会议） 内容：确立了开展土地革命和武装反抗国民党反动派的总方针，毛泽东提出了“政权是由枪杆子中取得的”的重要论断 秋收起义 领导人：毛泽东 革命根据地 井冈山革命根据地：毛泽东建立了第一个农村革命根据地 思想：工农武装格局思想（提出者：毛泽东） 有中国特色的革命新道路的内容：进行土地革命，在农村建立革命根据地，走农村包围城市、武装夺取政权的道路 长征 1934.10~1936.10 经过：强渡乌江、遵义会议、进入甘肃、吴起镇会师、甘肃会师 遵义会议 1935.1 解决军事、组织问题 意义：三个开始、三个挽救、一个转折 遵义会议开始确立了毛泽东在红军和党中央的领导地位，开始确立了以毛泽东为主要代表的马克思主义的正确路线在党中央的领导地位，开始形成了以毛泽东为核心的党的第一代中央领导集体，在极其危机的时刻，挽救了党，挽救了红军，挽救了革命，成为中国共产党历史上一个生死攸关的转折点。这次会议是中国共产党从幼年走向成熟的标志。 九一八事变 1931.9.18夜 中国抗日战争的起点，中国人不屈不挠的局部抗战揭开了世界反法西斯战争的序幕 七七事变（卢沟桥事变） 1937.7.7 中国全面抗战由此开始 日本侵华史实 中日甲午战争 伪满洲国 九一八事变 中国全民抗战的史实 抗日英雄、著名战役、国共合作战略态势 西安事变 1936.12.12 张学良、杨虎城 和平解决的意义 解开了国共两党由内战到联合抗日的序幕 成为扭转时局的关键 国共十年内战基本结束 以第二次国共合作为基础的抗日民族统一战线初步形成 科学 心脏 图片右边是“左” 上面是心房、下面是心室 体循环：左心室-&gt;主动脉-&gt;全身各处毛细血管-&gt;上下腔静脉-&gt;右心房 肺循环：左心房&lt;-肺静脉&lt;-肺部毛细血管&lt;-肺动脉&lt;-右心室 冲程 吸气、压缩、做功、排气 冲程示意图 细菌、真菌、蕨类、苔藓类、藻类 细菌：细胞膜、细胞质、拟核 真菌：细胞膜、细胞质、细胞核，细胞膜外有细胞壁，细胞质内有液泡 蕨类有根、茎、叶分化；苔藓类有茎、叶分化；藻类植物没有根、茎、叶分化 免疫 非特异性免疫 是机体对体内外异物都可以发生的免疫反应，不针对某种特定的病原体，对多种病原体都有一定的防御作用。 特异性免疫 人工免疫 疫苗或抗原接种到人体，使人体产生相应的抗体从而获得免疫的方法。 计划免疫 对易感人群进行预防接种。 营养素 消化并吸收：糖类、脂肪、蛋白质 不用消化直接吸收：水、无机盐、维生素 不能吸收：膳食纤维 花、种子 花 结构：花托、花萼、花冠、雄蕊（花药、花丝）、雌蕊（柱头、花柱、子房） 子房{子房壁−−−−−−&gt;果皮胚珠{珠被−&gt;种皮受精卵−&gt;胚}种子}果实子房 \\left. \\begin{cases} 子房壁------&gt;果皮 \\\\ 胚珠 \\left. \\begin{cases} 珠被-&gt;种皮 \\\\ 受精卵-&gt;胚 \\end{cases} \\right\\}种子 \\end{cases} \\right\\} 果实 子房⎩⎪⎨⎪⎧​子房壁−−−−−−&gt;果皮胚珠{珠被−&gt;种皮受精卵−&gt;胚​}种子​⎭⎪⎬⎪⎫​果实 种子 由种皮、胚构成 双子叶植物的 胚：胚根、胚轴、胚芽、子叶 单子叶植物的 胚：胚根、胚轴、胚芽、胚乳 {胚根−&gt;根胚轴−&gt;连接根、茎胚芽−&gt;茎的子叶\\begin{cases} 胚根-&gt;根 \\\\ 胚轴-&gt;连接根、茎 \\\\ 胚芽-&gt;茎的子叶 \\end{cases} ⎩⎪⎨⎪⎧​胚根−&gt;根胚轴−&gt;连接根、茎胚芽−&gt;茎的子叶​ 生殖 有性生殖 卵生、胎生、卵胎生 无性生殖 分裂生殖、出芽生殖、克隆 ","link":"https://www.wzsyyh.ml/post/zhongkao/"},{"title":"博客迁移","content":" 那么这个网址将成为我新的博客 旧博客地址：洛谷博客 该网页不是很稳定，请见谅！ ","link":"https://www.wzsyyh.ml/post/blog/"},{"title":"「学习笔记」左偏树","content":"//合并 int merge(int x,int y){ if(!x || !y) return x|y; if(t[x].key&gt;t[y].key) swap(x,y); t[t[x].rs=merge(t[x].rs,y)].fa=x; if(t[t[x].rs].d&gt;t[t[x].ls].d) swap(t[x].ls,t[x].rs); t[x].d=t[t[x].rs].d+1; return x; } //构建 void build(){ int l=1,r=n; for(int i=1;i&lt;n;i++){//可证只有n-1次合并 h[++r]=merge(h[l],h[l+1]); l+=2; } } //删除任意结点(pop) void pushup(int x){ if(!x) return; if(t[x].d!=t[t[x].rs].d+1){ t[x].d=t[t[x].rs].d+1; pushup(t[x].fa); } } int merge(int x,int y){ if(!x || !y) return x|y; if(t[x].key&gt;t[y].key) swap(x,y); t[t[x].rs=merge(t[x].rs,y)].fa=x; if(t[t[x].rs].d&gt;t[t[x].ls].d) swap(t[x].ls,t[x].rs); pushup(x); return x; } int pop(int x){ return merge(t[x].ls,t[x].rs); } //整个堆加/减去一个值、乘上一个正数，在根上打标记，下传 int merge(int x,int y){ if(!x || !y) return x|y; if(t[x].key&gt;t[y].key) swap(x,y); pushdown(x); t[t[x].rs=merge(t[x].rs,y)].fa=x; if(t[t[x].rs].d&gt;t[t[x].ls].d) swap(t[x].ls,t[x].rs); pushup(x); return x; } int pop(int x){ pushdown(x); return merge(t[x].ls,t[x].rs); } //随机合并 int merge(int x,int y){ if(!x || !y) return x|y; if(t[x].key&gt;t[y].key) swap(x,y); if(rand()&amp;1) swap(t[x].ls,t[x].rs); t[x].ls=merge(t[x].ls,y); return x; } //最终的板子 void pushup(int x){ if(!x) return; if(t[x].d!=t[t[x].rs].d+1){ t[x].d=t[t[x].rs].d+1; pushup(t[x].fa); } } int merge(int x,int y){ if(!x || !y) return x|y; if(t[x].key&gt;t[y].key) swap(x,y); pushdown(x); t[t[x].rs=merge(t[x].rs,y)].fa=x; if(t[t[x].rs].d&gt;t[t[x].ls].d) swap(t[x].ls,t[x].rs); pushup(x); return x; } int pop(int x){ pushdown(x); return merge(t[x].ls,t[x].rs); } ","link":"https://www.wzsyyh.ml/post/xxbj-lt/"},{"title":"「学习笔记」AC自动机","content":" 还记得2019年暑假，gy在英乐华翻开ybt提高篇的目录 概述 通常来讲，KMP 算法用来处理单模式串匹配问题。而若要处理多模式串的问题，就要引出 AC自动机 。 AC自动机 是以 Trie 的结构为基础，结合 KMP 的思想建立的。 步骤 将所有模式串构建成一棵 Trie 树 对 Trie 上所有节点构造失配指针（最长后缀） 利用失配指针对主串进行匹配。 流程 构建指针 记 tr[p][c]=vtr[p][c]=vtr[p][c]=v 表示结点 vvv 的父结点 ppp 通过字符 ccc 指向 vvv 。 记 fail[u]fail[u]fail[u] 表示 uuu 的失配指针，即 uuu 的最长后缀。 若 tr[u][i]tr[u][i]tr[u][i] 存在，则 fail[tr[u][i]]fail[tr[u][i]]fail[tr[u][i]] 可以由 fail[u]fail[u]fail[u] 增加一个字符 iii 得到 否则，直接将 tr[u][i]tr[u][i]tr[u][i] 指向 tr[fail[u]][i]tr[fail[u]][i]tr[fail[u]][i] 的状态 void build(){ for(int i=0;i&lt;26;i++) if(tr[0][i])q.push(tr[0][i]); while(q.size()){ int u=q.front(); q.pop(); for(int i=0;i&lt;26;i++){ if(tr[u][i]){ fail[tr[u][i]]=tr[fail[u]][i]; q.push(tr[u][i]); } else tr[u][i]=tr[fail[u]][i]; } } } 匹配函数 以P3808 【模板】AC自动机（简单版）的要求为例 int query(char *s) { int u=0,res=0; for(int i=1;s[i];i++) { u=tr[u][t[i]-'a']; for(int j=u;j &amp;&amp; e[j]!=-1;j=fail[j]){ res+=e[j],e[j]=-1; } } return res; } 板子 P5357 【模板】AC自动机（二次加强版） #include &lt;bits/stdc++.h&gt; using namespace std; const int N=2e5+5; int head[N],to[N],ne[N],tot; int n,tr[N][26],fail[N],ch,book[N],sz[N]; char s[N*10]; queue&lt;int&gt; q; void build(){ for(int i=0;i&lt;26;i++) if(tr[0][i])q.push(tr[0][i]); while(q.size()){ int u=q.front(); q.pop(); for(int i=0;i&lt;26;i++){ if(tr[u][i]){ fail[tr[u][i]]=tr[fail[u]][i]; q.push(tr[u][i]); } else tr[u][i]=tr[fail[u]][i]; } } } inline void add(int u,int v){ to[++tot]=v; ne[tot]=head[u]; head[u]=tot; } void dfs(int u){ for(int i=head[u];i;i=ne[i]){ int v=to[i]; dfs(v); sz[u]+=sz[v]; } } int main(){ scanf(&quot;%d&quot;,&amp;n); for(int i=1;i&lt;=n;i++){ scanf(&quot;%s&quot;,s+1); int u=0; for(int j=1;s[j];j++){ if(!tr[u][s[j]-'a'])tr[u][s[j]-'a']=++ch; u=tr[u][s[j]-'a']; } book[i]=u; } build(); scanf(&quot;%s&quot;,s+1); for(int u=0,i=1;s[i];i++){ u=tr[u][s[i]-'a']; sz[u]++; } for(int i=1;i&lt;=ch;i++){ add(fail[i],i); } dfs(0); for(int i=1;i&lt;=n;i++)printf(&quot;%d\\n&quot;,sz[book[i]]); return 0; } ","link":"https://www.wzsyyh.ml/post/xxbj-ac-automaton/"},{"title":"「学习笔记」平衡树Splay","content":"(1)Rotate(x) 将 xxx 向上移动一级，并将 fa[x]fa[x]fa[x] 作为儿子，保持 BSTBSTBST 的性质。 inline void Rotate(const int &amp;x){//旋转 int y=fa[x],z=fa[y]; int b=(lc[y]==x)?rc[x]:lc[x]; fa[x]=z,fa[y]=x; if(b)fa[b]=y; if(z)(y==lc[z]?lc[z]:rc[z])=x; if(x==lc[y])rc[x]=y,lc[y]=b; else lc[x]=y,rc[y]=b; } (2)Splay(x,target) 将伸展树中节点 xxx 调整为 targettargettarget 的儿子。是伸展树的核心。 如果爷爷是 targettargettarget，单旋一次 如果爷爷不是 targettargettarget 且父亲和爷爷方向一致，先旋父亲再旋自己 如果爷爷不是 targettargettarget 且父亲和爷爷方向不同，旋两次自己 inline bool Wrt(const int &amp;x){//判断x是否为父亲的右儿子 return rc[fa[x]]==x; } inline void Splay(const int &amp;x,const int &amp;tar){//调整 while(fa[x]!=tar){ if(fa[fa[x]]!=tar) Wrt(x)==Wrt(fa[x])?Rotate(fa[x]):Rotate(x); Rotate(x); } if(!tar)rt=x; } (3)Find(v) inline int Find(int v){ int x=rt; while(x){ if(v==val[x])break; if(v&gt; val[x])x=rc[x]; else x=lc[x]; } if(x)Splay(x,0); return x; } (4)Insert(v) inline void Insert(int v){//插入 int x=rt,y=0,lr; while(x){ ++sz[y=x]; if(v&lt;val[x])lr=0,x=lc[x]; else lc=1,x=rc[x]; } x=++tot; fa[x]=y,val[x]=v,sz[x]=1; if(y)(lr==0?lc[y]:rc[y])=x; Splay(x,0); } (5)Join(u,v) inline void Join(int u,int v){//合并 fa[u]=fa[v]=0; int w=u; while(rc[w])w=rc[w]; Splay(w,0); rc[w]=v,fa[v]=w; } (6)Delete(u) inline void Delete(int u){//删除 Splay(u,0); if(!lc[u] || !rc[u]) fa[rt=lc[u]+rc[u]]=0; else Join(lc[u],rc[u]); lc[u]=rc[u]=0; } (7)GetRank(v) 排名可表示为左子树大小+1 inline int GetRank(int v){//查询排名 int x=Find(v); return sz[lc[x]]+1; } (8)Spilt(v) 以元素 vvv 所在的节点 xxx 为界，将伸展树分为左右两颗 首先执行 Find(v) ，再 Splay(x,0) ，最后 xxx 的左子树为 S1S1S1 ，右子树为 S2S2S2 其他 除了上述8种基本操作，伸展树还支持求前驱、后继、最值、排名第k的元素等操作 upd:2021.4.27 P3369 【模板】普通平衡树 #include &lt;bits/stdc++.h&gt; using namespace std; inline int gin(){ int s=0,f=1; char c=getchar(); while(c&lt;'0' || c&gt;'9'){ if(c=='-') f=-1; c=getchar(); } while(c&gt;='0'&amp;&amp;c&lt;='9'){ s=(s&lt;&lt;3)+(s&lt;&lt;1)+(c^48); c=getchar(); } return s*f; } const int N=1e6+5; int n,fa[N],lc[N],rc[N],val[N],sz[N],rt,tot,cnt[N]; inline void push(int x){ if(x){ sz[x]=cnt[x]; if(lc[x]) sz[x]+=sz[lc[x]]; if(rc[x]) sz[x]+=sz[rc[x]]; } return; } inline bool get(int x){ return x==rc[fa[x]]; } inline void clear(int x){ lc[x]=rc[x]=fa[x]=val[x]=sz[x]=cnt[x]=0; } void rotate(int x){ int y=fa[x],z=fa[y]; int b=lc[y]==x ? rc[x] : lc[x]; fa[x]=z,fa[y]=x; if(b) fa[b]=y; if(z) (lc[z]==y ? lc[z] : rc[z])=x; if(x==lc[y]) rc[x]=y,lc[y]=b; else lc[x]=y,rc[y]=b; push(x); push(y); } void splay(int x,int tar=0){ while(fa[x]!=tar){ if(fa[fa[x]]!=tar) get(x)==get(fa[x]) ? rotate(fa[x]) : rotate(x); rotate(x); } if(!tar) rt=x; } inline int find(int v){ int x=rt; while(x){ if(val[x]==v) break; if(val[x]&gt; v) x=lc[x]; else x=rc[x]; } if(x) splay(x); return x; } inline void ins(int v){ int w=find(v); if(w){ cnt[w]++; return; } int x=rt,y=0,dir; while(x){ ++sz[y=x]; if(v&lt;val[x]) x=lc[x],dir=0; else x=rc[x],dir=1; } x=++tot; fa[x]=y,val[x]=v,sz[x]=1,cnt[x]=1; if(y) (dir==0 ? lc[y] : rc[y])=x; push(y); splay(x); } inline int rk(int v){ int x=find(v); return sz[lc[x]]+1; } inline int kth(int k){ int x=rt,y=k; while(x){ if(y&lt;=sz[lc[x]]) x=lc[x]; else { y-=sz[lc[x]]+cnt[x]; if(y&lt;=0){ splay(x); return val[x]; } x=rc[x]; } } } inline void join(int u,int v){ fa[u]=fa[v]=0; int w=u; while(rc[w]) w=rc[w]; splay(w); rc[w]=v,fa[v]=w; } inline void del(int v){ int x=find(v); if(cnt[x]&gt;=2){ cnt[x]--; push(x); return; } if(!lc[x] || !rc[x]) fa[rt=lc[x]|rc[x]]=0; else join(lc[x],rc[x]); } inline int pre(){ int x=lc[rt]; while(rc[x]) x=rc[x]; splay(x); return val[x]; } inline int nxt(){ int x=rc[rt]; while(lc[x]) x=lc[x]; splay(x); return val[x]; } int main(){ n=gin(); for(int i=1;i&lt;=n;i++){ int op=gin(),x=gin(); switch(op){ case 1:ins(x);break; case 2:del(x);break; case 3:printf(&quot;%d\\n&quot;,rk(x));break; case 4:printf(&quot;%d\\n&quot;,kth(x));break; case 5:ins(x);printf(&quot;%d\\n&quot;,pre());del(x);break; case 6:ins(x);printf(&quot;%d\\n&quot;,nxt());del(x);break; } } return 0; } ","link":"https://www.wzsyyh.ml/post/xxbj-splay/"},{"title":"OI记录","content":" 可能在洛谷博客上更新的会快些 2021.01.26 来WZHS了有望复出 2021.01.31 发现东西都忘光了，得从基础的基础开始复习了。。。 2021.03.10 发现真正做题之后根本不会记得来这里记录，很能拖更啊。。。 2021.05.10 月赛后涨了30左右，第一次红名 QwQ 以下专题按 Push_Y 复出后接触的时间先后排列 基础dp 2021.01.31 UVA437 The Tower of Babylon 树形dp 2021.01.31 [POI2014]FAR-FarmCraft 中间遍历子树顺序不能换 2021.04.15 [WZOI]粉兔找妹子 从2.13的60分（暴力）一直咕到今天才补。今天重写了个换根dp。好难改 分治 2021.02.17 平面最近点对（加强版） 平面分治，关键在合并 2021.03.10 摆放L 好巧妙的构造！ 每次把棋盘分割成4份进行分治，使得每份各有一黑格 基环树 2021.04.19 P5022 [NOIP2018 提高组] 旅行 拓扑排序找环，O(n2)O(n^2)O(n2) 暴力断边dp 仙人掌 长链剖分 cdq分治 数位dp 2021.03.30 P4127 [AHOI2009]同类分布 枚举模数这里有点难懂 2021.03.30 P3413 SAC#1 - 萌数 转移方程里的 kkk 有点难懂 2021.03.30 准考证 适合作为板子题之后自己写的第一题 数据结构优化dp 决策单调性/单调队列/斜率优化dp 疑难点：推柿子；单调队列里 lll 与 rrr 的关系（是 ＜＜＜ 还是≤≤≤），以后习惯 l=r=1;q[1]=0; 并且维护队列部分用 l&lt;r。 2021.4.12 P3648 [APIO2014]序列分割 看着题解写完了一些斜率优化题之后，这题开始尝试自己推柿子 2021.4.14 CF311B Cats Transport 题目给的信息过多，难想到先按“每只猫子所需出发时间”排序再斜率优化。 粗略一看题解区绝逼互抄的，既然大家都想到开一个 g[]g[]g[] 存上一轮状态了为什么 f[]f[]f[] 不用滚动？ 强连通分量 和 2-SAT 2020.10.04 写了2-SAT模板题题解 2021.04.21 写了题解 [POI2001] 和平委员会 左偏树 学习笔记 矩阵 2021.04.24 P2151 [SDOI2009]HH去散步 点边转换处理不能走重边 2021.04.24 P2886 [USACO07NOV]Cow Relays G 定义新的矩阵乘法规则 Splay伸展树 学习笔记 整体二分 2021.05.01 AC了板子 P3834 【模板】可持久化线段树 2（主席树） 和 P2617 Dynamic Rankings 2021.05.03 P3527 [POI2011]MET-Meteors 感觉每个询问的id都是它序号本身，所以ans[q[i].id]=l写成了ans[i]=l，不知道为什么错。 2021.05.04 P3242 [HNOI2015] 接水果 这题主要难在树上路径覆盖条件的转化 2021.05.04 P3332 [ZJOI2013]K大数查询 区间询问区间查询，数据结构选择线段树 之前的板子和例题都是第k小，这题要q1和q2反过来 点分治 2021.05.05 P4178 Tree 经典题 2021.05.05 P3806 【模板】点分治1 2021.05.08 [bzoj3648]寝室管理/[wzoi]点分治2 吐了，改了一晚上，最终是 ATue 神佬找到了错误QwQ。。。 upd:05.09 bzoj上还过不了，可能像 ATue 说的那样环编号得是在环上连续的吧，懒得改了 2021.05.09 [hdu4812]D Tree/[wzoi]点分治3 这时候才学习了逆元，这题用 O(p)O(p)O(p) 递推求出 111 到 p−1p-1p−1 每个数的逆元 个别数组要开到 ppp 那么大 分块 2021.05.10 P4168 [Violet]蒲公英 「实时更新」查漏补缺 2021.03.05 离散化 2021.03.16 准备系统学字符串算法 2021.03.17 老惨了发现虚树已经忘了无数遍了。。。板子集合 ","link":"https://www.wzsyyh.ml/post/OI-note/"}]}